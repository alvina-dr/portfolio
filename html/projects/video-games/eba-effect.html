<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Alvina DR | EBA Effects</title>

    <link rel="stylesheet" href="../../../css/main.css">
    <link rel="stylesheet" href="../../../css/text.css">
    <link rel="stylesheet" href="../../../css/page-specific-project.css">
    <link rel="stylesheet" href="../../../css/pointer.css">
    <link rel="stylesheet" href="../../../css/blog.css">
    <link rel="stylesheet" href="../../../css/project-window.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Nunito:ital,wght@0,200..1000;1,200..1000&display=swap" rel="stylesheet">
</head>
<body>
    <div class="cursor-default cursor-hidden"></div>
    <div class="cursor-follow"></div>

    <div class="grid grid-header grid-navbar-blog"></div>

    <navbar id="navbar"></navbar>  
    
    <div class="grid grid-blog"></div>
    <section id="landing-blog-section">
        <h1>EBA Effects</h1>
    </section>

<!------------------------------------------------------ PHOTOMONTAGES -------------------------------------------->

    <section id="blog-section" class="div-row">
        <div class="div-column">
            <p><b>2022-23</b> <b>Oculus Quest 2</b> <b>Unity</b></p>
            <p>EBA Effects is a <span class="text-highlight">VR game</span> inspired by <a class="link-in-text" href="https://fr.wikipedia.org/wiki/Elite_Beat_Agents" target="_blank">Elite Beat Agents</a>. We had <span class="text-highlight">five weeks</span> spreaded from October to November 2022 to create it. Our <span class="text-highlight">team of four</span> was composed of a level/game designer, a sound/music designer, a 3D artist and myself who worked on the programming side of the game.</p>
            <p>EBA Effects is a <span class="text-highlight">first person shooter</span> where you need to put down targets in <span class="text-highlight">rhythm with the music</span>, a bit like Elite Beat Agents but in 3D. I learned a lot making this game, and we faced multiple challenges.</p>
            <p>Two other inspirations we had were <a class="link-in-text" href="https://fr.wikipedia.org/wiki/Osu!" target="_blank">OSU</a> and <a class="link-in-text" href="https://store.steampowered.com/app/620980/Beat_Saber/" target="_blank">Beat Saber</a>. In both those games, people are able to create their levels and play them which was a feature we really wanted in our game, both for our level designers and futur players. We couldn't go placing all our targets directly in Unity which would have taken too much time and been super non-efficient.</p>
            <img src="../../../img/video-games/eba-effect/ee-menu.gif">
            <h3>Level editor</h3>
            <p>One of the first things we did was design a <span class="text-highlight">.csv file</span>, basically a table you can open in excel. We thought of three columns : <span class="text-highlight">spawn time, life duration and spawn position</span>. In other words : the time in the music at which the target should spawn, how long the target would stay on screen (if you don't shoot it in time it disapears and you loose life) and where it should spawn in the scene. Of course, this organisation would change a lot in the future but those were the basics we needed.</p>
            <p>I then made a <span class="text-highlight">script in Unity that would read the .csv file</span> and put <span class="text-highlight">each line of the table in a TargetData</span> scriptable object (thinking back on it, the data didn't actually need a scriptable object, just a generic class that doesn't inherit from anything would have been fine). Then, when I had the list of all targets data in the file (which happens when you launch the level), the chrono would start. Each time the <span class="text-highlight">chrono was above or equal to the spawn time of a target, the target would spawn</span>.</p>
            <p>You can shoot with both hands (which usually amounts to a grand total of two) and to make the game more difficult, some targets give double the points if shot by the good hand. The target's good side was added to the csv file making it a column larger. In the game, the side is indicated by a color, red for left, blue for right.</p>
            <p><span class="text-highlight">Each .csv file is an entire level</span>, putted in the "Resources" folder of the Assets. Now, just the targets data wasn't enough, <span class="text-highlight">we also needed the name of the music to play, how long it would last, the bpm</span> and a bunch of stuff like that. All those unique informations were written at the start of the .csv file, always in the same order and then interpreted in Unity.</p>
            <div class="div-row" style="width: 100%;">
                <img src="../../../img/video-games/eba-effect/ee-csv1.jpg" style="width: 49%;">
                <img src="../../../img/video-games/eba-effect/ee-target-data.jpg" style="width: 49%;">
            </div>
            <div class="div-row" style="width: 100%;">
                <img src="../../../img/video-games/eba-effect/ee-prototype1.gif" style="width: 49%;">
                <img src="../../../img/video-games/eba-effect/ee-gameplay1.jpg" style="width: 49%;">
            </div>
            <p>Now, never having done a game in virtual reality before EBA Effects (nor played one, which led to my discovering of a profound addiction to Beat Saber), the setup of the game was also quite a challenge. Making the guns in game follow the controllers, turning the camera with the headset, clicking on UI with lasers, etc. It can be quite a pain knowing there are different types of VR headsets, multiple packages with their own specificities and several ways of getting input with Unity. When you don't have any experience with all that, you just dive in with what seems the best on internet, not fully knowing why it works this or that way or if it's compatible with what your really want to do  - and you test it !</p>
            <p>Well it worked out in the end didn't it ?</p>
            <h3>Performance</h3>
            <p>Another big problem that we faced was performance. With the Oculus Quest 2 you can <span class="text-highlight">either launch a game on a computer and link the headset to it</span> (and then you have the computer's performances) <span class="text-highlight">or build an apk in Unity and import it on the Oculus</span> (and then play without a cable in the way). With the first solution everything worked pretty well but when we went to do an APK it was an absolute nightmare. About <span class="text-highlight">five fps</span>, impossible to play, especially when you are making a rhythm game. Which is how I started making research on how to optimise a lot of stuff.</p>
            <p>We didn't have a lot of time so a good part of the <span class="text-highlight">environment was badly organised, prefab multiplied, objects invisible but still there</span>, it wasn't pretty. <span class="text-highlight">Cleaning up</span> this mess was the first step. Then I started to look into the <span class="text-highlight">clouds that I had done weeks earlier with the Unity particle system</span>. <span class="text-highlight">Reducing the number of particles and making them bigger instead, making the particles life time longer and looping, pausing them when out of the player's view (culling)</span>. Quickly enough we got to a pretty <span class="text-highlight">good fps</span>.</p>
            <div class="div-row" style="width: 100%;">
                <img src="../../../img/video-games/eba-effect/ee-pause-ui.jpg" style="width: 49%;">
                <img src="../../../img/video-games/eba-effect/ee-prototype2.gif" style="width: 49%;">
            </div>         
        </div>

        <div class="div-column">
            <div class="project-window2" href="./html/index/jeu_video.html" style="height: fit-content; margin: 0;">
                <div class="project-window-navbar">
                    <p class="project-window-title" id="project-id">PLAY</p>
                </div>
                <div class="project-window-content" style="margin-top: 40px; width: fit-content; display: flex; flex-direction: column;">
                    <a class="external-link" href="https://najouille.itch.io/eba-effects" target="_blank" style="width: fit-content; margin: auto;">Discover the game</a>
                    <p style="margin: 10px;">-----------------------------</p>
                    <a class="external-link" href="https://github.com/alvina-dr/eba-effect" target="_blank" style="width: fit-content; margin: auto;">REPOSITORY</a>
                </div>
            </div>
        </div>
    </section>

    <section class="div-row other-projects" id="other-projects"></section>

    <footer id="footer"></footer>

    <script src="../../../data/video-games.js"></script>
    <script src="../../../js/vg-template.js"></script>
    <script src="/js/mouse-cursor.js"></script>
    <script src="/js/components/navbar.js"></script>
    <script src="/js/components/footer.js"></script>
    <script src="/js/components/other-projects.js"></script>
    <script src="/js/next-vg.js"></script>
</body>
</html>