<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Alvina DR | Luminar Expedition</title>

    <link rel="stylesheet" href="../../../css/main.css">
    <link rel="stylesheet" href="../../../css/text.css">
    <link rel="stylesheet" href="../../../css/navbar.css">
    <link rel="stylesheet" href="../../../css/footer.css">
    <link rel="stylesheet" href="../../../css/page-specific-project.css">
    <link rel="stylesheet" href="../../../css/page-specific-project.css">
    <link rel="stylesheet" href="../../../css/pointer.css">
    <link rel="stylesheet" href="../../../css/blog.css">
    <link rel="stylesheet" href="../../../css/project-window.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap" rel="stylesheet">
</head>
<body>
    <div class="cursor-default cursor-hidden"></div>

    <!-- NAVBAR -->
    <div class="grid grid-header grid-navbar-blog"></div>
    <navbar id="blog-navbar">
        <ul class="nav-ul">
            <li class="nav-link"><a href="../../../index.html">Home</a></li>
            <li class="nav-link"><a href="../../about.html">About</a></li>
            <li class="nav-link"><a href="../../contact.html">Contact</a></li>
        </ul>
    </navbar>  
    
    <div class="grid grid-blog"></div>
    <section id="landing-blog-section">
        <h1>Luminar Expedition</h1>
    </section>

    <section id="blog-section" class="div-row">
        <div class="div-column" style="width: 70%;">
            <p id="hashtags"><b>C++</b> <b>No engine</b></p>
            <p>At the end of 2023, I had the chance to participate in the <a class="link-in-text" href="https://www.ubisoft.com/en-us/company/careers/interns-graduates/develop-at-ubisoft" target="_blank">Develop At Ubisoft Program</a>.</p>
            <p>For this project we had no engine, just a library (NextAPI) given by Ubisoft that allowed us to display sprites, read inputs and play sounds in a window. This was a solo project done in a few months, only working in the evening and the weekend (all sounds and music are done by Mael Heurard though, big thanks to him).</p>
            <p>Your goal as the player is to secure most of the map to avoid slime spawn and free the caves. I wanted to convey the same feeling that I had playing </a> on the subject that was really interesting and helpful : <a class="link-in-text" href="https://www.minecraft.net/fr-fr" target="_blank">Minecraft</a>, a sense of safeness linked to the light.</p>
            <div class="div-row" style="width: 100%; height: 30rem; margin-bottom: 1rem;">
                <iframe width="100%" height="100%" src="https://www.youtube.com/embed/yLAeb2AkPhU?si=Kb5dK7Uc2LRO36s2" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen></iframe>
            </div>
            <p>I had only used C++ on a few really small projects before, so this was a huge first for me. The fact that we had no engine and everything was done in the code was also really interesting and made this game a big learning experience.</p>
            <div class="div-row" style="width: 100%;">
                <img src="../../../img/video-games/luminar-expedition/le-playing.jpg" style="width: 49%;">
                <img src="../../../img/video-games/luminar-expedition/le-trophy.jpg" style="width: 49%;">
            </div> 
            <h3>Camera</h3>

            <div class="div-row" style="width: 100%;">
                <img src="../../../img/video-games/luminar-expedition/le-camera.gif" style="width: 49%;">
                <div class="div-column" style="width: 49%;">
                    <p>Since this was an exploration game I wanted the player to be able to move around quite far. So I decided to implement a camera system from zero. What happens is that I created a simple movement system, and then substracted the position of the player to all the sprites on the screen. That way, the sprite of the player always stays in the center, and the whole environment moves.</p>
                    <p>This was simple but allowed for much more possibilities in terms of gameplay and exploration (the theme of the program was "space exploration" so it's quite handy).</p>
                    <p>For the UI, all I had to do was to not substract the player position, and it would stay in place like normal.</p>
                </div>
            </div> 
            <h3>Grid and collision</h3>
            <p>I created a Grid class that contains a list of Cell and different functions to find cells using their sprite position or directly the cells coordinates. A Cell is a class composed of two sprites : one for the ground, another for stuff on it like torches and ores. It also has a boolean to indicate whether it is collidable or not (which is used to know when the player can walk on a cell).</p>
            <p>The API didn't have a collision system ready, so I also had to code my own. Using the boolean it was easy to know which cell was walkable or not. All I had to do was to find the one in front of the player depending on the direction they are moving (which was done by calculating the future potential position).</p>
            <h3>Lighting system</h3>
            <div class="div-row" style="width: 100%;">
                <div class="div-column" style="width: 49%;">
                    <p>Another interesting part of this project was the programming of the light. When you display a sprite with the API you can precise the color of the sprite, like some kind of filter. If you want it to look exactly like your image, you just display it with the color white. But if you want to show the player red when they get hit for example, then you can use a red filter.</p>
                    <p>That's exactly what I used for my light system. Everything that is not in the light is going to have a black filter (which will make every tile look the same). Everything that is in the light will get a certain degree of white/black filter, being a little visible if far from light or fully visible if next to it.</p>
                    <p>Since the game was using a grid, I needed to find a way of making a circle on it. I found a detailed article by <a class="link-in-text" href="https://www.redblobgames.com/" target="_blank">Red Blob Games
                    </a> on the subject that was really interesting and helpful : <a class="link-in-text" href="https://www.redblobgames.com/grids/circle-drawing/" target="_blank">Circle fill on a grid
                    </a>. </p>
                </div>
                <img src="../../../img/video-games/luminar-expedition/le-light-circle.jpg" style="width: 49%;">
            </div> 
            <h3>Contextual input</h3>
            <p>One of the rule of this challenge was that we could only have two inputs, a Vector2 one for the 2D movement, and another one for whatever we wanted. But for what I had in mind the player could do three actions : mine, attack with a sword and build torches. Depending on the context, using the action button would make one of those actions. If the player was looking at a wall they would mine. If there was nothing in front of them they would attack. And if the player holds the button for a while then a torch is built on the floor in front of them.</p>
            <h3>Procedural generation and autotiling system</h3>
            <p>Since I didn't have a level editor, it was easier for me to just generate the environment procedurally. I didn't do anything fancy as I didn't have much time left. There's a percentage of each type of tiles, walls, iron ore, gold, diamond and charcoal... And they are placed randomly on the map.</p>
            <p>A system I really wanted for the game was autotiling. It makes the environment looks much more coherent. Since everyting was generated procedurally, it was an important feature to have a "clean" look. I did it with something approaching a flag system. Each wall tile check if their neighbor is also a wall. If that's the case for the tile on the left, we add 1. If it's the case for the tile above we add 2. If it's both you then get 3. Each combination of neighbors gives back a precise number, from which you can determine which sprite would fit best to this precise case.</p>
            <div class="div-row" style="width: 100%;">
                <img src="../../../img/video-games/luminar-expedition/le-autotile.jpg" style="width: 49%;">
                <img src="../../../img/video-games/luminar-expedition/le-autotile-example.jpg" style="width: 49%;">
            </div> 
        </div>

        <div class="div-column" style="width: 30%; margin-left : 50px;">
            <div class="project-window2" href="./html/index/jeu_video.html" style="height: fit-content; margin: 0;">
                <div class="project-window-navbar">
                    <p class="project-window-title" id="project-id">PLAY</p>
                </div>
                <div class="project-window-content" style="margin-top: 40px; width: fit-content; display: flex; flex-direction: column;">
                    <a class="external-link" href="https://alvina-dr.itch.io/luminar-expedition" target="_blank">Discover the game</a>
                </div>
            </div>

            <div style="margin-top: 1rem;">
                <blockquote class="twitter-tweet" data-theme="dark"><p lang="en" dir="ltr">Still a few days left before the end of the <a href="https://twitter.com/hashtag/DevelopAtUbisoft?src=hash&amp;ref_src=twsrc%5Etfw">#DevelopAtUbisoft</a> program, will focus on the gameplay loopðŸ‘€ <a href="https://t.co/LP7lrgeKsD">pic.twitter.com/LP7lrgeKsD</a></p>&mdash; Alvina (@alvina_dr_) <a href="https://twitter.com/alvina_dr_/status/1747262546355290526?ref_src=twsrc%5Etfw">January 16, 2024</a></blockquote> <script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script>
                <blockquote class="twitter-tweet" data-theme="dark"><p lang="en" dir="ltr">Been working on my entry for <a href="https://twitter.com/hashtag/DevelopAtUbisoft?src=hash&amp;ref_src=twsrc%5Etfw">#DevelopAtUbisoft</a> lately and I added camera and light systems. It&#39;s my first time doing all that without a game engine and in C++ so I&#39;m pretty happy with the result :)<a href="https://twitter.com/hashtag/gamedev?src=hash&amp;ref_src=twsrc%5Etfw">#gamedev</a> <a href="https://twitter.com/hashtag/cpp?src=hash&amp;ref_src=twsrc%5Etfw">#cpp</a> <a href="https://t.co/wi2OLEBSWx">pic.twitter.com/wi2OLEBSWx</a></p>&mdash; Alvina (@alvina_dr_) <a href="https://twitter.com/alvina_dr_/status/1732812619143110810?ref_src=twsrc%5Etfw">December 7, 2023</a></blockquote> <script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script>
                <blockquote class="twitter-tweet" data-theme="dark"><p lang="en" dir="ltr">Happy to announce I&#39;m part of the <a href="https://twitter.com/hashtag/DevelopAtUbisoft?src=hash&amp;ref_src=twsrc%5Etfw">#DevelopAtUbisoft</a> program at <a href="https://twitter.com/UbisoftFR?ref_src=twsrc%5Etfw">@UbisoftFR</a> Bordeaux, thanks a lot to @CnamEnjmin for sharing the opportunity ! <br><br>I have a few months to make a game from scratch in C++, you can see my map editor below. <br><br>Now focusing on gameplay :) <a href="https://t.co/zpj10jaqtq">pic.twitter.com/zpj10jaqtq</a></p>&mdash; Alvina (@alvina_dr_) <a href="https://twitter.com/alvina_dr_/status/1724428613812945368?ref_src=twsrc%5Etfw">November 14, 2023</a></blockquote> <script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script>
            </div>
        </div>
    </section>

    <section class="div-row other-projects">
        <button id='left-project-button' class="next-project-button">â—„</button>
        <div style="width: 50%; height: 100%; display: flex; justify-content: center; align-items: center;">
            <p id="left-project" class="next-project-title">Project1</p>
        </div>
        <div style="width: 50%;  height: 100%; display: flex; justify-content: center; align-items: center;">
            <p id="right-project" class="next-project-title">Project2</p>
        </div>
        <button id='right-project-button' class="next-project-button next-project-button-right">â–º</button>
    </section>

    <!-- FOOTER -->
    <footer>
        <div class="grid grid-footer grid-footer-blog"></div>
        <p>Made by Alvina Damasio--Razafiarizaka</p>
    </footer>
    <script src="../../../js/mouse-cursor.js"></script>
    <script src="../../../data/video-games.js"></script>
    <script src="../../../js/next-vg.js"></script>
    <script src="../../../js/vg-template.js"></script>
</body>
</html>